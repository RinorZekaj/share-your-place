{"version":3,"sources":["shared/components/UIElements/Avatar.js","user/components/UserItem.js","user/components/UserList.js","user/pages/Users.js","shared/components/FormElements/Button.js","shared/components/UIElements/ErrorModal.js","shared/components/UIElements/Modal.js","shared/hooks/http-hook.js","shared/components/UIElements/Card.js"],"names":["Avatar","props","className","style","src","image","alt","width","height","UserItem","Card","to","id","process","name","placeCount","UserList","items","length","map","user","key","places","Users","useState","loadedUsers","setLoadedUsers","useHttpClient","sendRequest","error","isLoading","clearError","useEffect","a","responseData","users","fetchUsers","ErrorModal","onClear","LoadingSpinner","Button","href","size","inverse","danger","children","exact","type","onClick","disabled","onCancel","header","show","footer","ModalOverlay","content","headerClass","onSubmit","event","preventDefault","contentClass","footerClass","ReactDOM","createPortal","document","getElementById","Modal","in","mountOnEnter","unmountOnExit","timeout","classNames","setIsLoading","setError","activeHttpRequests","useRef","useCallback","url","method","body","headers","httpAbortCtrl","AbortController","current","push","axios","data","signal","response","filter","reqCtrl","statusText","Error","message","console","log","forEach","abortCtrl","abort"],"mappings":"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","file":"static/js/8.ee18a608.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nimport './Avatar.css'\r\n\r\nfunction Avatar(props) {\r\n  return (\r\n    <div className={`avatar ${props.className}`} style={props.style}>\r\n      <img\r\n        src={props.image}\r\n        alt={props.alt}\r\n        style={{ width: props.width, height: props.height }}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Avatar;\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport Avatar from \"../../shared/components/UIElements/Avatar\";\r\nimport Card from \"../../shared/components/UIElements/Card\";\r\n\r\nimport \"./UserItem.css\";\r\n\r\nfunction UserItem(props) {\r\n\r\n  return (\r\n    <li className=\"user-item\">\r\n      <Card className=\"user-item__content\">\r\n        <Link to={`/${props.id}/places`}>\r\n          <div className=\"user-item__image\">\r\n            <Avatar image={`${process.env.REACT_APP_ASSET_URL}/${props.image}`} alt={props.name} />\r\n          </div>\r\n          <div className=\"user-item__info\">\r\n            <h2>{props.name}</h2>\r\n            <h3>\r\n              {props.placeCount} {props.placeCount === 1 ? \"Place\" : \"Places\"}\r\n            </h3>\r\n          </div>\r\n        </Link>\r\n      </Card>\r\n    </li>\r\n  );\r\n}\r\n\r\nexport default UserItem;\r\n","import React from \"react\";\r\n\r\nimport UserItem from \"./UserItem\";\r\nimport Card from '../../shared/components/UIElements/Card'\r\nimport './UserList.css'\r\n\r\nfunction UserList(props) {\r\n  if (props.items.length === 0) {\r\n    return (\r\n      <div className=\"center\">\r\n        <Card>\r\n        <h2>No users found</h2>\r\n        </Card>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <ul className=\"users-list\">\r\n      {props.items.map((user) => (\r\n        <UserItem\r\n          key={user.id}\r\n          id={user.id}\r\n          image={user.image}\r\n          name={user.name}\r\n          placeCount={user.places.length}\r\n        />\r\n      ))}\r\n    </ul>\r\n  );\r\n}\r\n\r\nexport default UserList;\r\n","import Axios from \"axios\";\r\nimport React, { useState, useEffect } from \"react\";\r\nimport ErrorModal from \"../../shared/components/UIElements/ErrorModal\";\r\nimport LoadingSpinner from \"../../shared/components/UIElements/LoadingSpinner\";\r\nimport { useHttpClient } from \"../../shared/hooks/http-hook\";\r\nimport UserList from \"../components/UserList\";\r\n\r\nfunction Users() {\r\n  const [loadedUsers, setLoadedUsers] = useState();\r\n\r\n  const { sendRequest, error, isLoading, clearError } = useHttpClient();\r\n\r\n  useEffect(() => {\r\n    const fetchUsers = async () => {\r\n      try {\r\n        const responseData = await sendRequest(`${process.env.REACT_APP_BACKEND_URL}/users`);\r\n\r\n        setLoadedUsers(responseData.users);\r\n      } catch (err) {}\r\n    };\r\n\r\n    fetchUsers();\r\n  }, [sendRequest]);\r\n\r\n  return (\r\n    <>\r\n      <ErrorModal error={error} onClear={clearError} />\r\n      {isLoading && <div className=\"center\"><LoadingSpinner /></div>}\r\n      {!isLoading && loadedUsers && <UserList items={loadedUsers} />}\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Users;\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport \"./Button.css\";\r\n\r\nfunction Button(props) {\r\n  if (props.href) {\r\n    return (\r\n      <a\r\n        className={`button button--${props.size || \"default\"} ${\r\n          props.inverse && \"button-inverse\"\r\n        } ${props.danger && \"button--danger\"}`}\r\n        href={props.href}\r\n      >\r\n        {props.children}\r\n      </a>\r\n    );\r\n  }\r\n  if (props.to) {\r\n    return (\r\n      <Link\r\n        to={props.to}\r\n        exact={props.exact}\r\n        className={`button button--${props.size || \"default\"} ${\r\n          props.inverse && \"button-inverse\"\r\n        } ${props.danger && \"button--danger\"}`}\r\n      >\r\n        {props.children}\r\n      </Link>\r\n    );\r\n  }\r\n  return (\r\n    <button\r\n      className={`button button--${props.size || \"default\"} ${\r\n        props.inverse && \"button--inverse\"\r\n      } ${props.danger && \"button--danger\"}`}\r\n      type={props.type}\r\n      onClick={props.onClick}\r\n      disabled={props.disabled}\r\n    >\r\n      {props.children}\r\n    </button>\r\n  );\r\n}\r\n\r\nexport default Button;\r\n","import React from 'react';\r\n\r\nimport Modal from './Modal';\r\nimport Button from '../FormElements/Button';\r\n\r\nconst ErrorModal = props => {\r\n  return (\r\n    <Modal\r\n      onCancel={props.onClear}\r\n      header=\"An Error Occurred!\"\r\n      show={!!props.error}\r\n      footer={<Button onClick={props.onClear}>Okay</Button>}\r\n    >\r\n      <p>{props.error}</p>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport default ErrorModal;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { CSSTransition } from \"react-transition-group\";\r\n\r\nimport Backdrop from \"./Backdrop\";\r\nimport \"./Modal.css\";\r\n\r\nfunction ModalOverlay(props) {\r\n  const content = (\r\n    <div className={`modal ${props.className}`} style={props.style}>\r\n      <header className={`modal__header ${props.headerClass}`}>\r\n        <h2>{props.header}</h2>\r\n      </header>\r\n      <form\r\n        onSubmit={\r\n          props.onSubmit ? props.onSubmit : (event) => event.preventDefault()\r\n        }\r\n      >\r\n        <div className={`modal__content ${props.contentClass}`}>\r\n          {props.children}\r\n        </div>\r\n        <footer className={`modal__footer ${props.footerClass}`}>\r\n          {props.footer}\r\n        </footer>\r\n      </form>\r\n    </div>\r\n  );\r\n  return ReactDOM.createPortal(content, document.getElementById(\"modal-hook\"));\r\n}\r\n\r\nfunction Modal(props) {\r\n  return (\r\n    <>\r\n      {props.show && <Backdrop onClick={props.onCancel} />}\r\n      <CSSTransition\r\n        in={props.show}\r\n        mountOnEnter\r\n        unmountOnExit\r\n        timeout={200}\r\n        classNames=\"modal\"\r\n      >\r\n        <ModalOverlay {...props} />\r\n      </CSSTransition>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Modal;","import { useState, useCallback, useRef, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nexport const useHttpClient = () => {\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [error, setError] = useState();\r\n\r\n  const activeHttpRequests = useRef([]);\r\n\r\n  const sendRequest = useCallback(\r\n    async (url, method = \"GET\", body = null, headers = {}) => {\r\n      setIsLoading(true);\r\n      const httpAbortCtrl = new AbortController();\r\n      activeHttpRequests.current.push(httpAbortCtrl);\r\n      try {\r\n        const response = await axios({\r\n          method,\r\n          url,\r\n          headers,\r\n          data: body,\r\n          signal: httpAbortCtrl.signal,\r\n        });\r\n\r\n        const responseData = response.data;\r\n\r\n        activeHttpRequests.current = activeHttpRequests.current.filter(\r\n          (reqCtrl) => reqCtrl !== httpAbortCtrl\r\n        );\r\n        \r\n        setIsLoading(false);\r\n        if (response.statusText !== \"OK\") {\r\n          throw new Error(responseData.message);\r\n        }\r\n        console.log(\"Success\");\r\n        return responseData;\r\n      } catch (err) {\r\n        console.log(\"Error\", err.response.data.message);\r\n        setError(err.response.data.message);\r\n        setIsLoading(false);\r\n        throw err;\r\n      }\r\n    },\r\n    []\r\n  );\r\n\r\n  const clearError = () => {\r\n    setError(null);\r\n  };\r\n\r\n  useEffect(() => {\r\n    return () => {\r\n      activeHttpRequests.current.forEach((abortCtrl) => abortCtrl.abort());\r\n    };\r\n  }, []);\r\n\r\n  return { isLoading, error, sendRequest, clearError };\r\n};\r\n","import React from 'react'\r\n\r\nimport './Card.css'\r\n\r\nfunction Card(props) {\r\n  return (\r\n    <div className={`card ${props.className}`} style={props.style}>\r\n      {props.children}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Card\r\n"],"sourceRoot":""}